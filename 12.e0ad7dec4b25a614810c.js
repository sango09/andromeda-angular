(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{l84A:function(t,e,n){"use strict";n.r(e),n.d(e,"MaintenanceModule",function(){return kt});var o=n("ofXK"),a=n("tyNb"),i=n("3Pt+"),r=n("fXoL"),c=n("JIr8"),l=n("z6cu"),d=n("AytR"),s=n("tk/3");let b=(()=>{class t{constructor(t){this.http=t,this.urlMaintenance=d.a.url_api+"/maintenance"}getTicketMaintenanceInformation(){return this.ticketInformation}getAllMaintenance(){return this.http.get(this.urlMaintenance+"/").pipe(Object(c.a)(this.handleError))}createMaintenance(t){return this.http.post(this.urlMaintenance+"/",t).pipe(Object(c.a)(this.handleError))}updateMaintenance(t,e){return this.http.patch(`${this.urlMaintenance}/${t}/`,e).pipe(Object(c.a)(this.handleError))}getMaintenance(t){return this.http.get(`${this.urlMaintenance}/${t}`).pipe(Object(c.a)(this.handleError))}deleteMaintenance(t){return this.http.delete(`${this.urlMaintenance}/${t}`).pipe(Object(c.a)(this.handleError))}handleError(t){return t.error.non_field_errors?Object(l.a)(t.error.non_field_errors):Object(l.a)(t.error)}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(s.b))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var m=n("jTAN"),p=n("QIUk"),g=n("7zfz"),f=n("7kUa"),u=n("arFO"),h=n("eO1q"),M=n("kmnG"),C=n("7ZcW"),O=n("NFeN"),_=n("zFJ7"),A=n("sYmb");function P(t,e){1&t&&(r.Jc(0),r.ec(1,"translate")),2&t&&r.Lc(" ",r.fc(1,1,"DASHBOARD.MAINTANCE.Agendar Mantenimiento")," ")}function S(t,e){1&t&&(r.Jc(0),r.ec(1,"translate")),2&t&&r.Lc(" ",r.fc(1,1,"DASHBOARD.MAINTANCE.Ingresa los datos requeridos")," ")}function v(t,e){if(1&t&&(r.Sb(0,"div",34),r.Nb(1,"img",35),r.Sb(2,"span",36),r.Jc(3),r.Rb(),r.Rb()),2&t){const t=r.dc().$implicit;r.Ab(1),r.lc("src",t.technical_data_sheet.picture,r.Bc),r.Ab(2),r.Kc(t.name)}}function R(t,e){if(1&t&&r.Hc(0,v,4,2,"div",33),2&t){const t=r.dc(2);r.kc("ngIf",t.selectImplement)}}function x(t,e){if(1&t&&(r.Sb(0,"div",37),r.Nb(1,"img",35),r.Sb(2,"span",36),r.Jc(3),r.Rb(),r.Rb()),2&t){const t=e.$implicit;r.Ab(1),r.lc("src",t.technical_data_sheet.picture,r.Bc),r.Ab(2),r.Kc(t.name)}}function y(t,e){1&t&&(r.Sb(0,"small",38),r.Jc(1,"Campo requerido"),r.Rb())}function w(t,e){1&t&&(r.Sb(0,"small",38),r.Jc(1,"Campo requerido"),r.Rb())}function k(t,e){1&t&&(r.Sb(0,"small",38),r.Jc(1,"Campo requerido"),r.Rb())}function D(t,e){1&t&&(r.Sb(0,"small",38),r.Jc(1,"Campo requerido"),r.Rb())}function N(t,e){1&t&&(r.Sb(0,"small",38),r.Jc(1,"Campo requerido"),r.Rb())}const I=function(){return{standalone:!0}},H=function(){return[0,6]};function T(t,e){if(1&t){const t=r.Tb();r.Sb(0,"h5"),r.Jc(1),r.ec(2,"translate"),r.Rb(),r.Sb(3,"form",10),r.Zb("ngSubmit",function(){return r.zc(t),r.dc().createMaintenance()}),r.Sb(4,"div",11),r.Sb(5,"div",12),r.Sb(6,"div",13),r.Sb(7,"span",14),r.Nb(8,"i",15),r.Rb(),r.Sb(9,"input",16),r.Zb("ngModelChange",function(e){return r.zc(t),r.dc().userFullName=e}),r.Rb(),r.Rb(),r.Rb(),r.Sb(10,"div",12),r.Sb(11,"div",13),r.Sb(12,"span",14),r.Nb(13,"i",17),r.Rb(),r.Sb(14,"input",16),r.Zb("ngModelChange",function(e){return r.zc(t),r.dc().userData.email=e}),r.Rb(),r.Rb(),r.Rb(),r.Sb(15,"div",12),r.Sb(16,"label"),r.Jc(17),r.ec(18,"translate"),r.Rb(),r.Sb(19,"p-dropdown",18),r.ec(20,"translate"),r.Hc(21,R,1,1,"ng-template",19),r.Hc(22,x,4,2,"ng-template",20),r.Rb(),r.Hc(23,y,2,0,"small",21),r.Rb(),r.Sb(24,"div",12),r.Sb(25,"label"),r.Jc(26),r.ec(27,"translate"),r.Rb(),r.Nb(28,"p-dropdown",22),r.ec(29,"translate"),r.Hc(30,w,2,0,"small",21),r.Rb(),r.Sb(31,"div",23),r.Sb(32,"label",24),r.Jc(33),r.ec(34,"translate"),r.Rb(),r.Nb(35,"p-calendar",25),r.Hc(36,k,2,0,"small",21),r.Rb(),r.Sb(37,"div",12),r.Sb(38,"label",26),r.Jc(39),r.ec(40,"translate"),r.Rb(),r.Nb(41,"input",27),r.Hc(42,D,2,0,"small",21),r.Rb(),r.Sb(43,"div",12),r.Sb(44,"mat-form-field",28),r.Sb(45,"mat-label"),r.Jc(46),r.ec(47,"translate"),r.Rb(),r.Sb(48,"ngx-mat-file-input",29),r.Zb("change",function(e){return r.zc(t),r.dc().getFile(e)}),r.Rb(),r.Sb(49,"mat-icon",30),r.Jc(50,"folder"),r.Rb(),r.Rb(),r.Rb(),r.Sb(51,"div",23),r.Sb(52,"label"),r.Jc(53),r.ec(54,"translate"),r.Rb(),r.Nb(55,"textarea",31),r.Hc(56,N,2,0,"small",21),r.Rb(),r.Sb(57,"button",32),r.Jc(58),r.ec(59,"translate"),r.Rb(),r.Rb(),r.Rb()}if(2&t){const t=r.dc();r.Ab(1),r.Lc(" ",r.fc(2,29,"DASHBOARD.MAINTANCE.Usuario registrado")," "),r.Ab(2),r.kc("formGroup",t.form),r.Ab(6),r.kc("ngModel",t.userFullName)("ngModelOptions",r.oc(49,I)),r.Ab(5),r.kc("ngModel",t.userData.email)("ngModelOptions",r.oc(50,I)),r.Ab(3),r.Kc(r.fc(18,31,"DASHBOARD.MAINTANCE.Implemento")),r.Ab(2),r.lc("placeholder",r.fc(20,33,"DASHBOARD.MAINTANCE.Seleccione un implemento")),r.kc("options",t.implements)("filter",!0),r.Ab(4),r.kc("ngIf",t.implementIsEmpty),r.Ab(3),r.Kc(r.fc(27,35,"DASHBOARD.MAINTANCE.Tipo de mantenimiento")),r.Ab(2),r.lc("placeholder",r.fc(29,37,"DASHBOARD.MAINTANCE.Tipo de mantenimiento")),r.kc("options",t.typeMaintenance),r.Ab(2),r.kc("ngIf",t.typeMaintenaceIsEmpty),r.Ab(3),r.Kc(r.fc(34,39,"DASHBOARD.MAINTANCE.Fecha del mantenimiento")),r.Ab(2),r.kc("disabledDates",t.invalidDates)("disabledDays",r.oc(51,H))("showIcon",!0)("readonlyInput",!0)("required",!0)("touchUI",!0),r.Ab(1),r.kc("ngIf",t.dateIsEmpty),r.Ab(3),r.Lc(" ",r.fc(40,41,"DASHBOARD.MAINTANCE.Lugar del mantenimiento")," "),r.Ab(3),r.kc("ngIf",t.locationIsEmpty),r.Ab(4),r.Lc(" ",r.fc(47,43,"DASHBOARD.MAINTANCE.Imagen del implemento")," "),r.Ab(7),r.Lc(" ",r.fc(54,45,"DASHBOARD.MAINTANCE.Descripci\xf3n del mantenimiento")," "),r.Ab(3),r.kc("ngIf",t.descriptionIsEmpty),r.Ab(2),r.Lc(" ",r.fc(59,47,"DASHBOARD.MAINTANCE.Agendar Mantenimiento")," ")}}let J=(()=>{class t{constructor(t,e,n,o,a){this.formBuilder=t,this.maintenanceService=e,this.inventoryService=n,this.router=o,this.route=a,this.data=new FormData,this.userData=JSON.parse(localStorage.getItem("userInfo")),this.userFullName=`${this.userData.first_name} ${this.userData.last_name}`,this.builForm()}ngOnInit(){this.getAllImplements();const t=new Date,e=new Date;e.setDate(t.getDate()-1),this.invalidDates=[t,e],this.typeMaintenance=[{name:"Preventivo"},{name:"Correctivo"}]}builForm(){this.form=this.formBuilder.group({maintenance_location:["",i.p.required],description:["",i.p.required],maintenance_type:["",i.p.required],implement:["",i.p.required],maintenance_date:["",i.p.required]})}get implementIsEmpty(){return this.form.get("implement").invalid&&this.form.get("implement").touched}get typeMaintenaceIsEmpty(){return this.form.get("maintenance_type").invalid&&this.form.get("maintenance_type").touched}get dateIsEmpty(){return this.form.get("maintenance_date").invalid&&this.form.get("maintenance_date").touched}get locationIsEmpty(){return this.form.get("maintenance_location").invalid&&this.form.get("maintenance_location").touched}get descriptionIsEmpty(){return this.form.get("description").invalid&&this.form.get("description").touched}getAllImplements(){this.inventoryService.getAllInventory().subscribe(t=>this.implements=t,t=>console.error(t))}getFile(t){t.target.files&&t.target.files[0]&&(this.selectedFile=t.target.files[0],this.data.append("image_implement",this.selectedFile,this.selectedFile.name))}createMaintenance(){if(this.form.valid){const t=this.form.value;this.data.append("maintenance_date",Object(o.v)(t.maintenance_date,"yyyy-MM-dd HH:mm:ss","en-US")),this.data.append("maintenance_location",t.maintenance_location),this.data.append("description",t.description),this.data.append("maintenance_type",t.maintenance_type),this.data.append("implement",t.implement),this.maintenanceService.createMaintenance(this.data).subscribe(t=>{this.maintenanceService.ticketInformation=t;const e=this.router.createUrlTree(["../ticket"],{relativeTo:this.route});this.router.navigateByUrl(e)},t=>console.error(t))}else Object.values(this.form.controls).forEach(t=>t.markAllAsTouched())}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(i.c),r.Mb(b),r.Mb(m.a),r.Mb(a.c),r.Mb(a.a))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-create-maintenance"]],decls:17,vars:9,consts:[[1,"header"],[1,"header-title"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","../../../"],["aria-current","page",1,"breadcrumb-item","active"],["pTemplate","title"],["pTemplate","subtitle"],["pTemplate","content"],["method","POST","autocomplete","off","enctype","multipart/form-data",3,"formGroup","ngSubmit"],[1,"p-fluid","p-formgrid","p-grid"],[1,"p-field","p-col-12","p-md-6"],[1,"p-inputgroup"],[1,"p-inputgroup-addon"],[1,"pi","pi-user"],["type","text","pInputText","","disabled","",3,"ngModel","ngModelOptions","ngModelChange"],[1,"pi","pi-envelope"],["optionValue","id","formControlName","implement","optionLabel","name","filterBy","name",1,"multiselect-custom",3,"options","filter","placeholder"],["pTemplate","selectItem"],["pTemplate","item"],["class","p-error",4,"ngIf"],["inputId","class","optionValue","name","formControlName","maintenance_type","optionLabel","name",3,"options","placeholder"],[1,"p-field","p-col-12"],["for","calendar"],["formControlName","maintenance_date","showTime","true","hourFormat","12","showButtonBar","true","dateFormat","dd-mm-yy","id","calendar",3,"disabledDates","disabledDays","showIcon","readonlyInput","required","touchUI"],["for","maintenance_location"],["type","text","pInputText","","id","maintenance_location","formControlName","maintenance_location"],["appearance","outline",1,"w-100"],["placeholder","Basic outline placeholder",3,"change"],["matSuffix",""],["pInputTextarea","","formControlName","description"],["type","submit",1,"btn","btn-primary","btn-block"],["class","implement-item implement-item-value",4,"ngIf"],[1,"implement-item","implement-item-value"],["alt","implemento",1,"flag",3,"src"],[1,"ml-2"],[1,"implement-item"],[1,"p-error"]],template:function(t,e){1&t&&(r.Sb(0,"div",0),r.Sb(1,"h1",1),r.Jc(2),r.ec(3,"translate"),r.Rb(),r.Sb(4,"nav",2),r.Sb(5,"ol",3),r.Sb(6,"li",4),r.Sb(7,"a",5),r.Jc(8),r.ec(9,"translate"),r.Rb(),r.Rb(),r.Sb(10,"li",6),r.Jc(11),r.ec(12,"translate"),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Sb(13,"p-card"),r.Hc(14,P,2,3,"ng-template",7),r.Hc(15,S,2,3,"ng-template",8),r.Hc(16,T,60,52,"ng-template",9),r.Rb()),2&t&&(r.Ab(2),r.Lc(" ",r.fc(3,3,"DASHBOARD.MAINTANCE.Agendar Mantenimiento")," "),r.Ab(6),r.Lc(" ",r.fc(9,5,"DASHBOARD.MAINTANCE.Inicio")," "),r.Ab(3),r.Lc(" ",r.fc(12,7,"DASHBOARD.MAINTANCE.Agendar mantenimiento")," "))},directives:[a.f,p.a,g.j,i.q,i.j,i.e,i.b,f.a,i.i,i.l,u.a,i.d,o.k,h.a,i.o,M.a,M.d,C.a,O.a,M.e,_.a],pipes:[A.c],styles:['@media print{.header[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%], hr[_ngcontent-%COMP%]{display:none}}.input-file[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}.cursor[_ngcontent-%COMP%]{cursor:pointer}.card-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border-radius:6px;box-shadow:none!important;background:#fff!important;color:#000!important}.card-body[_ngcontent-%COMP%]   .detail-icons[_ngcontent-%COMP%]{width:1.25em!important;color:#495057;text-align:center;margin-right:.3rem!important;vertical-align:middle!important}.card[_ngcontent-%COMP%]{margin-bottom:1.5rem;box-shadow:0 0 .875rem 0 rgba(53,64,82,.05)}p-card[_ngcontent-%COMP%]{position:relative}.card-header[_ngcontent-%COMP%]{margin-bottom:0;background-color:#fff!important;border-bottom:0 solid transparent!important}.card-title[_ngcontent-%COMP%]{font-weight:550;font-size:1rem}.sidebar-item[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{color:#26272c!important;background:#e9ecef!important}.breadcrumb[_ngcontent-%COMP%]{background-color:initial!important;padding:0!important}.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item.active[_ngcontent-%COMP%]{color:#fff;font-weight:500}.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#e9ecef;text-underline:none}.custom-control-label[_ngcontent-%COMP%]:before{content:" ";position:absolute;top:.25rem;left:-1.5rem;display:block;width:1rem;height:1rem;pointer-events:none;-webkit-user-select:none;user-select:none;background-color:#dee2e6}.header-title[_ngcontent-%COMP%]{font-size:2em!important}.icon[_ngcontent-%COMP%]{padding:.75rem;width:48px;height:48px;color:#fff;background-color:#0b5fa5!important;border-radius:50%!important}.icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:24px;height:24px}.stats[_ngcontent-%COMP%]{display:flex;align-items:flex-start}.stats-body[_ngcontent-%COMP%]{flex:1}.wrapper[_ngcontent-%COMP%]{display:flex;width:100%;position:relative;align-content:stretch;overflow:hidden}.wrapper[_ngcontent-%COMP%]:before{content:" ";width:100%;height:264px;position:absolute;top:0;left:0;background:#083358}.rounded-circle[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .rounded-profile[_ngcontent-%COMP%]{height:2rem;width:2rem;border-radius:50%!important}.userDropdown[_ngcontent-%COMP%]{color:#fff!important}.content[_ngcontent-%COMP%]{margin-top:3rem;padding:0 .5rem}.header[_ngcontent-%COMP%]{margin-bottom:3rem;position:relative;color:#fff}.dropdown-item[_ngcontent-%COMP%]   .notify-icon[_ngcontent-%COMP%]{float:left;text-align:center;margin-right:10px}.dropdown-item[_ngcontent-%COMP%]   .notify-details[_ngcontent-%COMP%]{margin-bottom:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dropdown-item[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{white-space:normal;margin-left:45px;line-height:16px}.dropdown-item[_ngcontent-%COMP%]{display:block;padding:.35rem 1.5rem;color:#495057;text-align:inherit;background-color:initial}.dropdown-item[_ngcontent-%COMP%]:hover{color:#16181b;text-decoration:none;background-color:#fff}.dropdown-item[_ngcontent-%COMP%]:active{text-decoration:none;background:#e9ecef!important}.sidebar[_ngcontent-%COMP%]{min-width:250px;max-width:250px;transition:margin-left .3s ease-in-out,left .3s ease-in-out,margin-right .3s ease-in-out,right .3s ease-in-out;background:#fff;border-right:0;z-index:1}.sidebar.toggled[_ngcontent-%COMP%]{margin-left:-250px}.sidebar-brand[_ngcontent-%COMP%]{padding:1rem;background:#083358;display:block}.sidebar-brand[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:170px}.sidebar-nav[_ngcontent-%COMP%]{margin-bottom:0;padding-left:0;list-style:none;display:flex;flex-direction:column;justify-content:flex-start;flex:1;background:#fff}.sidebar-header[_ngcontent-%COMP%]{background:transparent;color:#adb5db;padding:.375rem 1.5rem;font-size:.75rem;text-transform:uppercase;margin-top:1rem!important}.sidebar[_ngcontent-%COMP%]   [data-toggle=collapse][_ngcontent-%COMP%]{position:relative}.sidebar[_ngcontent-%COMP%]   [data-toggle=collapse][_ngcontent-%COMP%]:before{content:" ";border:solid;border-width:0 .1rem .1rem 0;display:inline-block;padding:2.5px;transform:rotate(-45deg);position:absolute;top:1.2rem;right:1.25rem;transition:all .2s ease-out}.sidebar[_ngcontent-%COMP%]   [aria-expanded=true][_ngcontent-%COMP%]:before, .sidebar[_ngcontent-%COMP%]   [data-toggle=collapse][_ngcontent-%COMP%]:not(.collapsed):before{transform:rotate(45deg)}a.sidebar-link[_ngcontent-%COMP%]{display:block;padding:.65rem .75rem;margin:0 .5rem;color:#6c757d;font-weight:400;background:transparent;border-radius:.2rem;transition:background .1s ease-in-out;position:relative;text-decoration:none!important;cursor:pointer}a.sidebar-link[_ngcontent-%COMP%]:hover{color:#212529;background:#fff}a.sidebar-link[_ngcontent-%COMP%]   .fa-fw[_ngcontent-%COMP%]{color:#083358}.sidebar-dropdown[_ngcontent-%COMP%]   .sidebar-link[_ngcontent-%COMP%]{padding:.35rem 1.5rem .35rem 2.75rem;margin:0 .5rem;font-weight:400;font-size:90%}.sidebar-toggle[_ngcontent-%COMP%]{cursor:pointer;margin-left:.5rem}.fa-bars[_ngcontent-%COMP%]{color:#fff!important;font-size:25px!important;position:relative}.main[_ngcontent-%COMP%]{width:100%;min-height:100vh;background-color:#e9ecef}.text-dark[_ngcontent-%COMP%]{color:#344050!important;font-weight:500!important;line-height:1.2!important}td[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{-webkit-text-decoration:#1657af underline!important;text-decoration:#1657af underline!important}.maintenance-detail[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .support-detail[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-bottom:1rem}.maintenance-detail[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .support-detail[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:700}.p-button-success[_ngcontent-%COMP%]{color:#fff;background-color:#28a745;border-color:#28a745}.p-button-success[_ngcontent-%COMP%]:hover{color:#fff;background-color:#218838!important;border-color:#1e7e34}[_nghost-%COMP%]     .p-avatar.p-avatar-circle img{border-radius:50%}[_nghost-%COMP%]     .p-avatar{vertical-align:middle}[_nghost-%COMP%]     .p-rating .p-rating-icon{font-size:1.5rem!important}[_nghost-%COMP%]     .p-multiselect{min-width:15rem}[_nghost-%COMP%]     .multiselect-custom .p-multiselect-label{padding-top:.25rem;padding-bottom:.25rem}[_nghost-%COMP%]     .multiselect-custom .implement-item-value{padding:.25rem .5rem;border-radius:3px;display:inline-flex;margin-right:.5rem;background-color:var(--primary-color);color:var(--primary-color-text)}[_nghost-%COMP%]     .multiselect-custom .implement-item-value img.flag{width:17px}[_nghost-%COMP%]     .multiselect-custom .implement-item img.flag{width:50px}[_nghost-%COMP%]     .multiselect-custom .implement-placeholder{padding:.25rem}[_nghost-%COMP%]     .p-accordion-header{display:none}[_nghost-%COMP%]     .p-menu.p-menu-overlay, [_nghost-%COMP%]     .p-overlaypanel{position:absolute;transform-origin:top;top:auto!important;right:0;width:250px!important;max-height:400px;list-style-type:none;margin:0;left:auto!important}@media (max-width:1366px) and (min-width:1px){.sidebar[_ngcontent-%COMP%]{margin-left:-250px}.sidebar.toggled[_ngcontent-%COMP%]{margin-left:0!important}}[_nghost-%COMP%]     .p-datatable-responsive-mobile .p-datatable-tbody>tr>td .p-column-title{display:none}@media screen and (max-width:40rem){[_nghost-%COMP%]     .p-datatable.p-datatable-responsive-mobile .p-datatable-tfoot>tr>td, [_nghost-%COMP%]     .p-datatable.p-datatable-responsive-mobile .p-datatable-thead>tr>th{display:none!important}[_nghost-%COMP%]     .p-datatable.p-datatable-responsive-mobile .p-datatable-tbody>tr>td{text-align:left;display:block;width:100%;float:left;clear:left;border:0}[_nghost-%COMP%]     .p-datatable.p-datatable-responsive-mobile .p-datatable-tbody>tr>td .p-column-title{padding:.4rem;min-width:30%;display:inline-block;margin:-.4em 1em -.4em -.4rem;font-weight:700}[_nghost-%COMP%]     .p-datatable.p-datatable-responsive-mobile .p-datatable-tbody>tr>td:last-child{border-bottom:1px solid var(--surface-d)}.btn-table[_ngcontent-%COMP%]{width:100%;margin-bottom:1rem}}[_nghost-%COMP%]     .p-chip.custom-chip{background:#083358;color:var(--primary-color-text)}[_nghost-%COMP%]     .fc .fc-daygrid-event, [_nghost-%COMP%]     .fc a[data-navlink]{color:inherit}[_nghost-%COMP%]     .fc .fc-col-header-cell-cushion{color:#70757a}']}),t})();var B=n("+DzE");const E=function(){return{height:"6px"}};function L(t,e){1&t&&r.Nb(0,"p-progressBar",12),2&t&&r.Fc(r.oc(2,E))}function z(t,e){1&t&&(r.Jc(0),r.ec(1,"translate")),2&t&&r.Lc(" ",r.fc(1,1,"DASHBOARD.LOANS.Tu servicio fue solicitado con exito")," ")}function K(t,e){1&t&&(r.Sb(0,"span"),r.Jc(1),r.ec(2,"translate"),r.Rb()),2&t&&(r.Ab(1),r.Lc(" ",r.fc(2,1,"DASHBOARD.LOANS.Coordinador")," "))}function F(t,e){1&t&&(r.Sb(0,"span"),r.Jc(1),r.ec(2,"translate"),r.Rb()),2&t&&(r.Ab(1),r.Lc(" ",r.fc(2,1,"DASHBOARD.LOANS.Empleado")," "))}function q(t,e){1&t&&(r.Sb(0,"span"),r.Jc(1),r.ec(2,"translate"),r.Rb()),2&t&&(r.Ab(1),r.Lc(" ",r.fc(2,1,"DASHBOARD.LOANS.Auxiliar de sistemas")," "))}function j(t,e){if(1&t&&(r.Sb(0,"div",19),r.Sb(1,"div",20),r.Sb(2,"span",21),r.Jc(3,"Ticket#"),r.Rb(),r.Sb(4,"span"),r.Jc(5),r.Rb(),r.Rb(),r.Sb(6,"div",22),r.Sb(7,"div",23),r.Sb(8,"span",21),r.Jc(9),r.ec(10,"translate"),r.Rb(),r.Sb(11,"span"),r.Jc(12),r.ec(13,"date"),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Sb(14,"div",19),r.Sb(15,"div",24),r.Sb(16,"h1",25),r.Jc(17),r.ec(18,"translate"),r.Rb(),r.Sb(19,"span"),r.Jc(20),r.ec(21,"translate"),r.Rb(),r.Rb(),r.Sb(22,"div",26),r.Nb(23,"img",27),r.Rb(),r.Rb(),r.Nb(24,"hr"),r.Sb(25,"div",19),r.Sb(26,"div",28),r.Sb(27,"div",29),r.Sb(28,"span",30),r.Jc(29),r.ec(30,"translate"),r.Rb(),r.Rb(),r.Sb(31,"div",31),r.Sb(32,"span"),r.Jc(33),r.Rb(),r.Rb(),r.Sb(34,"div",32),r.Sb(35,"span"),r.Jc(36),r.Rb(),r.Rb(),r.Sb(37,"div",33),r.Hc(38,K,3,3,"span",11),r.Hc(39,F,3,3,"span",11),r.Hc(40,q,3,3,"span",11),r.Rb(),r.Rb(),r.Rb(),r.Nb(41,"hr"),r.Sb(42,"div",34),r.Sb(43,"h2",35),r.Jc(44),r.ec(45,"translate"),r.Rb(),r.Sb(46,"div",36),r.Sb(47,"div",37),r.Sb(48,"span",38),r.Jc(49),r.ec(50,"translate"),r.Rb(),r.Sb(51,"span"),r.Jc(52),r.Rb(),r.Rb(),r.Sb(53,"div",39),r.Sb(54,"span",38),r.Jc(55),r.ec(56,"translate"),r.Rb(),r.Sb(57,"span"),r.Jc(58),r.Rb(),r.Rb(),r.Sb(59,"div",40),r.Sb(60,"span",38),r.Jc(61),r.ec(62,"translate"),r.Rb(),r.Sb(63,"span"),r.Jc(64),r.Rb(),r.Rb(),r.Rb(),r.Sb(65,"div",36),r.Sb(66,"div",41),r.Sb(67,"span",38),r.Jc(68),r.ec(69,"translate"),r.Rb(),r.Sb(70,"span"),r.Jc(71),r.Rb(),r.Rb(),r.Sb(72,"div",42),r.Sb(73,"span",38),r.Jc(74),r.ec(75,"translate"),r.Rb(),r.Sb(76,"span"),r.Jc(77),r.Rb(),r.Rb(),r.Sb(78,"div",43),r.Sb(79,"span",38),r.Jc(80),r.ec(81,"translate"),r.Rb(),r.Sb(82,"span"),r.Jc(83),r.ec(84,"date"),r.Rb(),r.Rb(),r.Rb(),r.Rb()),2&t){const t=r.dc(2);r.Ab(5),r.Kc(t.ticket.id),r.Ab(4),r.Lc(" ",r.fc(10,25,"DASHBOARD.LOANS.Fecha de Ticket:")," "),r.Ab(3),r.Kc(r.gc(13,27,t.date,"medium")),r.Ab(5),r.Lc(" ",r.fc(18,30,"DASHBOARD.LOANS.Servicio")," "),r.Ab(3),r.Lc(" ",r.fc(21,32,"DASHBOARD.LOANS.Prestamos Tecnologicos")," "),r.Ab(9),r.Lc(" ",r.fc(30,34,"DASHBOARD.LOANS.Detalles de usuario")," "),r.Ab(4),r.Mc("",t.userInfo.first_name," ",t.userInfo.last_name,""),r.Ab(3),r.Kc(t.userInfo.email),r.Ab(2),r.kc("ngIf",t.userInfo.is_admin),r.Ab(1),r.kc("ngIf",t.userInfo.is_employee),r.Ab(1),r.kc("ngIf",t.userInfo.is_assistant),r.Ab(4),r.Lc(" ",r.fc(45,36,"DASHBOARD.LOANS.Detalles del servicio")," "),r.Ab(5),r.Kc(r.fc(50,38,"DASHBOARD.MAINTANCE.Implemento: ")),r.Ab(3),r.Kc(t.implementSelected.name),r.Ab(3),r.Kc(r.fc(56,40,"DASHBOARD.MAINTANCE.Tipo de mantenimiento: ")),r.Ab(3),r.Kc(t.ticket.maintenance_type),r.Ab(3),r.Kc(r.fc(62,42,"DASHBOARD.MAINTANCE.Comentarios: ")),r.Ab(3),r.Kc(t.ticket.description),r.Ab(4),r.Lc(" ",r.fc(69,44,"DASHBOARD.LOANS.Auxiliar Asignado: ")," "),r.Ab(3),r.Kc(t.ticket.assigned_auxiliary),r.Ab(3),r.Lc(" ",r.fc(75,46,"DASHBOARD.MAINTANCE.Lugar del mantenimiento: ")," "),r.Ab(3),r.Kc(t.ticket.maintenance_location),r.Ab(3),r.Lc(" ",r.fc(81,48,"DASHBOARD.MAINTANCE.Fecha de solicitud: ")," "),r.Ab(3),r.Kc(r.gc(84,50,t.ticket.maintenance_date,"yyyy-MM-dd HH:mm:ss"))}}function $(t,e){if(1&t){const t=r.Tb();r.Sb(0,"a",44),r.Nb(1,"i",45),r.Jc(2),r.ec(3,"translate"),r.Rb(),r.Sb(4,"a",46),r.Zb("click",function(e){return r.zc(t),r.dc(2).print(e)}),r.Nb(5,"i"),r.Jc(6),r.ec(7,"translate"),r.Rb()}if(2&t){const t=r.dc(2);r.Ab(2),r.Lc(" ",r.fc(3,4,"DASHBOARD.MAINTANCE.Ver servicio en el calendario")," "),r.Ab(3),r.Cb(t.iconPrint),r.Ab(1),r.Lc(" ",r.fc(7,6,"DASHBOARD.MAINTANCE.Imprimir")," ")}}function G(t,e){1&t&&(r.Sb(0,"div",13),r.Sb(1,"div",14),r.Sb(2,"div",15),r.Sb(3,"p-card"),r.Hc(4,z,2,3,"ng-template",16),r.Hc(5,j,85,53,"ng-template",17),r.Rb(),r.Rb(),r.Sb(6,"div",18),r.Sb(7,"p-card"),r.Hc(8,$,8,8,"ng-template",17),r.Rb(),r.Rb(),r.Rb(),r.Rb())}function Z(t,e){1&t&&(r.Qb(0),r.Sb(1,"div",47),r.Sb(2,"div",48),r.Sb(3,"h1"),r.Jc(4),r.ec(5,"translate"),r.Rb(),r.Rb(),r.Rb(),r.Pb()),2&t&&(r.Ab(4),r.Kc(r.fc(5,1,"DASHBOARD.MAINTANCE.TICKET NO ENCONTRADO")))}let U=(()=>{class t{constructor(t,e){this.maintenanceService=t,this.inventarioService=e,this.iconPrint="pi pi-print",this.date=Date.now(),this.userInfo=JSON.parse(localStorage.getItem("userInfo")),this.environment=d.a.url_api,this.loading=!0,this.notFound=!1}ngOnInit(){this.ticket=this.maintenanceService.getTicketMaintenanceInformation(),this.ticket&&this.inventarioService.getInventory(this.ticket.implement).subscribe(t=>{this.implementSelected=t,this.loading=!1},t=>{this.notFound=!0,console.error(t)})}print(t){t.preventDefault(),window.print()}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(b),r.Mb(m.a))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-ticket-maintenance"]],decls:19,vars:12,consts:[[1,"header"],[1,"header-title"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","../../../../"],[1,"breadcrumb-item","active"],["routerLink","../../control"],["aria-current","page",1,"breadcrumb-item","active"],["mode","indeterminate",3,"style",4,"ngIf"],["class","steps-content",4,"ngIf"],[4,"ngIf"],["mode","indeterminate"],[1,"steps-content"],[1,"p-grid"],[1,"p-col-12","p-md-9"],["pTemplate","title"],["pTemplate","content"],[1,"p-col-12","h-25","header"],[1,"row","py-3"],[1,"col-md-12","col-lg-7","col-xl-4","mb-2"],[1,"font-weight-bold","mr-1"],[1,"col-md-12","col-lg-5","col-xl-8"],[1,"d-flex","justify-content-end"],[1,"col-6","d-flex","flex-column","justify-content-center","align-items-start"],[1,"text-primary"],[1,"col-6","d-flex","justify-content-end"],["src","assets/img/logo_azul.png","alt","Andromeda","width","100",1,"img-fluid"],[1,"col","mt-2"],[1,"info-user","mb-2"],[1,"font-weight-bold"],[1,"fullname-user","mb-3"],[1,"email-user","mb-3"],[1,"rol-user","mb-3"],[1,"row","p-3"],[1,"text-center","w-100","font-weight-bold","mb-5"],[1,"col-6","maintenance-detail"],[1,"item"],[1,"title"],[1,"ammount"],[1,"commets"],[1,"assigned-auxiliary"],[1,"loans-location"],[1,"loans_date"],["routerLink","../../../calendario","type","button",1,"btn","btn-primary","btn-block","mb-3"],[1,"pi","pi-calendar","mr-2"],[1,"btn","btn-primary","btn-block",3,"click"],[1,"card"],[1,"card-body"]],template:function(t,e){1&t&&(r.Sb(0,"div",0),r.Sb(1,"h1",1),r.Jc(2),r.ec(3,"translate"),r.Rb(),r.Sb(4,"nav",2),r.Sb(5,"ol",3),r.Sb(6,"li",4),r.Sb(7,"a",5),r.Jc(8),r.ec(9,"translate"),r.Rb(),r.Rb(),r.Sb(10,"li",6),r.Sb(11,"a",7),r.Jc(12),r.ec(13,"translate"),r.Rb(),r.Rb(),r.Sb(14,"li",8),r.Jc(15,"Ticket"),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Hc(16,L,1,3,"p-progressBar",9),r.Hc(17,G,9,0,"div",10),r.Hc(18,Z,6,3,"ng-container",11)),2&t&&(r.Ab(2),r.Lc(" ",r.fc(3,6,"DASHBOARD.MAINTANCE.Detalles del servicio")," "),r.Ab(6),r.Lc(" ",r.fc(9,8,"DASHBOARD.MAINTANCE.Inicio")," "),r.Ab(4),r.Lc(" ",r.fc(13,10,"DASHBOARD.MAINTANCE.Mantenimientos")," "),r.Ab(4),r.kc("ngIf",e.loading),r.Ab(1),r.kc("ngIf",e.ticket&&e.implementSelected),r.Ab(1),r.kc("ngIf",e.notFound))},directives:[a.f,o.k,B.a,p.a,g.j],pipes:[A.c,o.d],styles:['@media print{.header[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%], hr[_ngcontent-%COMP%]{display:none}}.input-file[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}.cursor[_ngcontent-%COMP%]{cursor:pointer}.card-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border-radius:6px;box-shadow:none!important;background:#fff!important;color:#000!important}.card-body[_ngcontent-%COMP%]   .detail-icons[_ngcontent-%COMP%]{width:1.25em!important;color:#495057;text-align:center;margin-right:.3rem!important;vertical-align:middle!important}.card[_ngcontent-%COMP%]{margin-bottom:1.5rem;box-shadow:0 0 .875rem 0 rgba(53,64,82,.05)}p-card[_ngcontent-%COMP%]{position:relative}.card-header[_ngcontent-%COMP%]{margin-bottom:0;background-color:#fff!important;border-bottom:0 solid transparent!important}.card-title[_ngcontent-%COMP%]{font-weight:550;font-size:1rem}.sidebar-item[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{color:#26272c!important;background:#e9ecef!important}.breadcrumb[_ngcontent-%COMP%]{background-color:initial!important;padding:0!important}.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item.active[_ngcontent-%COMP%]{color:#fff;font-weight:500}.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#e9ecef;text-underline:none}.custom-control-label[_ngcontent-%COMP%]:before{content:" ";position:absolute;top:.25rem;left:-1.5rem;display:block;width:1rem;height:1rem;pointer-events:none;-webkit-user-select:none;user-select:none;background-color:#dee2e6}.header-title[_ngcontent-%COMP%]{font-size:2em!important}.icon[_ngcontent-%COMP%]{padding:.75rem;width:48px;height:48px;color:#fff;background-color:#0b5fa5!important;border-radius:50%!important}.icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:24px;height:24px}.stats[_ngcontent-%COMP%]{display:flex;align-items:flex-start}.stats-body[_ngcontent-%COMP%]{flex:1}.wrapper[_ngcontent-%COMP%]{display:flex;width:100%;position:relative;align-content:stretch;overflow:hidden}.wrapper[_ngcontent-%COMP%]:before{content:" ";width:100%;height:264px;position:absolute;top:0;left:0;background:#083358}.rounded-circle[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .rounded-profile[_ngcontent-%COMP%]{height:2rem;width:2rem;border-radius:50%!important}.userDropdown[_ngcontent-%COMP%]{color:#fff!important}.content[_ngcontent-%COMP%]{margin-top:3rem;padding:0 .5rem}.header[_ngcontent-%COMP%]{margin-bottom:3rem;position:relative;color:#fff}.dropdown-item[_ngcontent-%COMP%]   .notify-icon[_ngcontent-%COMP%]{float:left;text-align:center;margin-right:10px}.dropdown-item[_ngcontent-%COMP%]   .notify-details[_ngcontent-%COMP%]{margin-bottom:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dropdown-item[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{white-space:normal;margin-left:45px;line-height:16px}.dropdown-item[_ngcontent-%COMP%]{display:block;padding:.35rem 1.5rem;color:#495057;text-align:inherit;background-color:initial}.dropdown-item[_ngcontent-%COMP%]:hover{color:#16181b;text-decoration:none;background-color:#fff}.dropdown-item[_ngcontent-%COMP%]:active{text-decoration:none;background:#e9ecef!important}.sidebar[_ngcontent-%COMP%]{min-width:250px;max-width:250px;transition:margin-left .3s ease-in-out,left .3s ease-in-out,margin-right .3s ease-in-out,right .3s ease-in-out;background:#fff;border-right:0;z-index:1}.sidebar.toggled[_ngcontent-%COMP%]{margin-left:-250px}.sidebar-brand[_ngcontent-%COMP%]{padding:1rem;background:#083358;display:block}.sidebar-brand[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:170px}.sidebar-nav[_ngcontent-%COMP%]{margin-bottom:0;padding-left:0;list-style:none;display:flex;flex-direction:column;justify-content:flex-start;flex:1;background:#fff}.sidebar-header[_ngcontent-%COMP%]{background:transparent;color:#adb5db;padding:.375rem 1.5rem;font-size:.75rem;text-transform:uppercase;margin-top:1rem!important}.sidebar[_ngcontent-%COMP%]   [data-toggle=collapse][_ngcontent-%COMP%]{position:relative}.sidebar[_ngcontent-%COMP%]   [data-toggle=collapse][_ngcontent-%COMP%]:before{content:" ";border:solid;border-width:0 .1rem .1rem 0;display:inline-block;padding:2.5px;transform:rotate(-45deg);position:absolute;top:1.2rem;right:1.25rem;transition:all .2s ease-out}.sidebar[_ngcontent-%COMP%]   [aria-expanded=true][_ngcontent-%COMP%]:before, .sidebar[_ngcontent-%COMP%]   [data-toggle=collapse][_ngcontent-%COMP%]:not(.collapsed):before{transform:rotate(45deg)}a.sidebar-link[_ngcontent-%COMP%]{display:block;padding:.65rem .75rem;margin:0 .5rem;color:#6c757d;font-weight:400;background:transparent;border-radius:.2rem;transition:background .1s ease-in-out;position:relative;text-decoration:none!important;cursor:pointer}a.sidebar-link[_ngcontent-%COMP%]:hover{color:#212529;background:#fff}a.sidebar-link[_ngcontent-%COMP%]   .fa-fw[_ngcontent-%COMP%]{color:#083358}.sidebar-dropdown[_ngcontent-%COMP%]   .sidebar-link[_ngcontent-%COMP%]{padding:.35rem 1.5rem .35rem 2.75rem;margin:0 .5rem;font-weight:400;font-size:90%}.sidebar-toggle[_ngcontent-%COMP%]{cursor:pointer;margin-left:.5rem}.fa-bars[_ngcontent-%COMP%]{color:#fff!important;font-size:25px!important;position:relative}.main[_ngcontent-%COMP%]{width:100%;min-height:100vh;background-color:#e9ecef}.text-dark[_ngcontent-%COMP%]{color:#344050!important;font-weight:500!important;line-height:1.2!important}td[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{-webkit-text-decoration:#1657af underline!important;text-decoration:#1657af underline!important}.maintenance-detail[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .support-detail[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-bottom:1rem}.maintenance-detail[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .support-detail[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:700}.p-button-success[_ngcontent-%COMP%]{color:#fff;background-color:#28a745;border-color:#28a745}.p-button-success[_ngcontent-%COMP%]:hover{color:#fff;background-color:#218838!important;border-color:#1e7e34}[_nghost-%COMP%]     .p-avatar.p-avatar-circle img{border-radius:50%}[_nghost-%COMP%]     .p-avatar{vertical-align:middle}[_nghost-%COMP%]     .p-rating .p-rating-icon{font-size:1.5rem!important}[_nghost-%COMP%]     .p-multiselect{min-width:15rem}[_nghost-%COMP%]     .multiselect-custom .p-multiselect-label{padding-top:.25rem;padding-bottom:.25rem}[_nghost-%COMP%]     .multiselect-custom .implement-item-value{padding:.25rem .5rem;border-radius:3px;display:inline-flex;margin-right:.5rem;background-color:var(--primary-color);color:var(--primary-color-text)}[_nghost-%COMP%]     .multiselect-custom .implement-item-value img.flag{width:17px}[_nghost-%COMP%]     .multiselect-custom .implement-item img.flag{width:50px}[_nghost-%COMP%]     .multiselect-custom .implement-placeholder{padding:.25rem}[_nghost-%COMP%]     .p-accordion-header{display:none}[_nghost-%COMP%]     .p-menu.p-menu-overlay, [_nghost-%COMP%]     .p-overlaypanel{position:absolute;transform-origin:top;top:auto!important;right:0;width:250px!important;max-height:400px;list-style-type:none;margin:0;left:auto!important}@media (max-width:1366px) and (min-width:1px){.sidebar[_ngcontent-%COMP%]{margin-left:-250px}.sidebar.toggled[_ngcontent-%COMP%]{margin-left:0!important}}[_nghost-%COMP%]     .p-datatable-responsive-mobile .p-datatable-tbody>tr>td .p-column-title{display:none}@media screen and (max-width:40rem){[_nghost-%COMP%]     .p-datatable.p-datatable-responsive-mobile .p-datatable-tfoot>tr>td, [_nghost-%COMP%]     .p-datatable.p-datatable-responsive-mobile .p-datatable-thead>tr>th{display:none!important}[_nghost-%COMP%]     .p-datatable.p-datatable-responsive-mobile .p-datatable-tbody>tr>td{text-align:left;display:block;width:100%;float:left;clear:left;border:0}[_nghost-%COMP%]     .p-datatable.p-datatable-responsive-mobile .p-datatable-tbody>tr>td .p-column-title{padding:.4rem;min-width:30%;display:inline-block;margin:-.4em 1em -.4em -.4rem;font-weight:700}[_nghost-%COMP%]     .p-datatable.p-datatable-responsive-mobile .p-datatable-tbody>tr>td:last-child{border-bottom:1px solid var(--surface-d)}.btn-table[_ngcontent-%COMP%]{width:100%;margin-bottom:1rem}}[_nghost-%COMP%]     .p-chip.custom-chip{background:#083358;color:var(--primary-color-text)}[_nghost-%COMP%]     .fc .fc-daygrid-event, [_nghost-%COMP%]     .fc a[data-navlink]{color:inherit}[_nghost-%COMP%]     .fc .fc-col-header-cell-cushion{color:#70757a}']}),t})();var Q=n("PSD3"),V=n.n(Q),W=n("GsGB"),X=n("rEr+"),Y=n("RTT/"),tt=n("xlun"),et=n("z8Lm"),nt=n("jIHw");function ot(t,e){if(1&t){const t=r.Tb();r.Sb(0,"div",13),r.Sb(1,"a",14),r.Nb(2,"i",15),r.Jc(3," PDF "),r.Rb(),r.Sb(4,"span",16),r.Nb(5,"i",17),r.Sb(6,"input",18),r.Zb("input",function(e){return r.zc(t),r.dc(),r.yc(15).filterGlobal(e.target.value,"contains")}),r.ec(7,"translate"),r.Rb(),r.Rb(),r.Rb()}if(2&t){const t=r.dc();r.Ab(1),r.kc("href",t.urlPdf,r.Bc),r.Ab(5),r.lc("placeholder",r.fc(7,2,"DASHBOARD.MAINTANCE.Buscar..."))}}function at(t,e){1&t&&(r.Sb(0,"tr"),r.Sb(1,"th",19),r.Jc(2,"Ticket"),r.Rb(),r.Sb(3,"th",20),r.Jc(4),r.ec(5,"translate"),r.Rb(),r.Sb(6,"th",21),r.Jc(7),r.ec(8,"translate"),r.Rb(),r.Sb(9,"th",22),r.Jc(10),r.ec(11,"translate"),r.Rb(),r.Sb(12,"th",23),r.Jc(13),r.ec(14,"translate"),r.Rb(),r.Sb(15,"th",24),r.Jc(16),r.ec(17,"translate"),r.Rb(),r.Sb(18,"th",25),r.Jc(19),r.ec(20,"translate"),r.Rb(),r.Nb(21,"th",26),r.Rb()),2&t&&(r.Ab(4),r.Kc(r.fc(5,6,"DASHBOARD.MAINTANCE.Implemento")),r.Ab(3),r.Kc(r.fc(8,8,"DASHBOARD.MAINTANCE.Fecha de solicitud")),r.Ab(3),r.Kc(r.fc(11,10,"DASHBOARD.MAINTANCE.Lugar")),r.Ab(3),r.Kc(r.fc(14,12,"DASHBOARD.MAINTANCE.Tipo de mantenimiento")),r.Ab(3),r.Kc(r.fc(17,14,"DASHBOARD.MAINTANCE.Estado")),r.Ab(3),r.Kc(r.fc(20,16,"DASHBOARD.MAINTANCE.Auxiliar asignado")))}function it(t,e){1&t&&(r.Sb(0,"span",38),r.Jc(1),r.ec(2,"translate"),r.Rb()),2&t&&(r.Ab(1),r.Kc(r.fc(2,1,"DASHBOARD.MAINTANCE.Correctivo")))}function rt(t,e){1&t&&(r.Sb(0,"span",39),r.Jc(1),r.ec(2,"translate"),r.Rb()),2&t&&(r.Ab(1),r.Kc(r.fc(2,1,"DASHBOARD.MAINTANCE.Preventivo")))}function ct(t,e){1&t&&(r.Sb(0,"span",40),r.Jc(1),r.ec(2,"translate"),r.Rb()),2&t&&(r.Ab(1),r.Lc(" ",r.fc(2,1,"DASHBOARD.MAINTANCE.Cancelado")," "))}function lt(t,e){1&t&&(r.Sb(0,"span",41),r.Jc(1),r.ec(2,"translate"),r.Rb()),2&t&&(r.Ab(1),r.Lc(" ",r.fc(2,1,"DASHBOARD.MAINTANCE.Completado")," "))}function dt(t,e){1&t&&(r.Sb(0,"span",38),r.Jc(1),r.ec(2,"translate"),r.Rb()),2&t&&(r.Ab(1),r.Lc(" ",r.fc(2,1,"DASHBOARD.MAINTANCE.En proceso")," "))}function st(t,e){if(1&t){const t=r.Tb();r.Sb(0,"button",51),r.Zb("click",function(e){r.zc(t);const n=r.dc(3).$implicit;return r.dc().canceleted(e,n.id)}),r.ec(1,"translate"),r.Rb()}2&t&&r.lc("label",r.fc(1,1,"DASHBOARD.MAINTANCE.Cancelar Mantenimiento"))}function bt(t,e){if(1&t){const t=r.Tb();r.Sb(0,"button",48),r.Zb("click",function(e){r.zc(t);const n=r.dc(2).$implicit;return r.dc().completed(e,n.id)}),r.ec(1,"translate"),r.Rb(),r.Sb(2,"div",49),r.Hc(3,st,2,3,"button",50),r.Rb()}if(2&t){const t=r.dc(3);r.lc("label",r.fc(1,2,"DASHBOARD.MAINTANCE.Completar")),r.Ab(3),r.kc("ngIf",t.userInfo.is_admin)}}function mt(t,e){if(1&t){const t=r.Tb();r.Qb(0),r.Sb(1,"a",42),r.Zb("click",function(e){return r.zc(t),r.yc(5).toggle(e)}),r.Sb(2,"span",43),r.Nb(3,"i",44),r.Rb(),r.Rb(),r.Sb(4,"p-overlayPanel",45,46),r.Hc(6,bt,4,4,"ng-template",47),r.Rb(),r.Pb()}2&t&&(r.Ab(4),r.kc("showCloseIcon",!1))}function pt(t,e){if(1&t&&(r.Sb(0,"a",27),r.Jc(1),r.ec(2,"translate"),r.Rb()),2&t){const t=r.dc().$implicit;r.mc("routerLink","../detalle/",t.id,""),r.Ab(1),r.Lc(" ",r.fc(2,2,"DASHBOARD.MAINTANCE.Ver Ticket")," ")}}function gt(t,e){if(1&t&&(r.Sb(0,"tr"),r.Sb(1,"td"),r.Sb(2,"a",27),r.Jc(3),r.Rb(),r.Jc(4," por "),r.Sb(5,"strong"),r.Jc(6),r.Rb(),r.Nb(7,"br"),r.Sb(8,"a",28),r.Jc(9),r.Rb(),r.Rb(),r.Sb(10,"td"),r.Nb(11,"img",29),r.Jc(12),r.Rb(),r.Sb(13,"td"),r.Jc(14),r.ec(15,"date"),r.Rb(),r.Sb(16,"td"),r.Jc(17),r.Rb(),r.Sb(18,"td"),r.Qb(19,30),r.Hc(20,it,3,3,"span",31),r.Hc(21,rt,3,3,"span",32),r.Pb(),r.Rb(),r.Sb(22,"td"),r.Qb(23,30),r.Hc(24,ct,3,3,"span",33),r.Hc(25,lt,3,3,"span",34),r.Hc(26,dt,3,3,"span",35),r.Pb(),r.Rb(),r.Sb(27,"td"),r.Jc(28),r.Rb(),r.Sb(29,"td"),r.Hc(30,mt,7,1,"ng-container",36),r.Hc(31,pt,3,4,"ng-template",null,37,r.Ic),r.Rb(),r.Rb()),2&t){const t=e.$implicit,n=r.yc(32);r.Ab(2),r.mc("routerLink","../detalle/",t.id,""),r.Ab(1),r.Lc(" #",t.id," "),r.Ab(3),r.Mc("",t.request_by.first_name," ",t.request_by.last_name,""),r.Ab(2),r.mc("href","mailto:",t.request_by.email,"",r.Bc),r.Ab(1),r.Lc(" ",t.request_by.email," "),r.Ab(2),r.kc("src",t.image_implement,r.Bc),r.Ab(1),r.Lc(" ",t.implement.name," "),r.Ab(2),r.Kc(r.hc(15,19,t.maintenance_date,"M/d/yyyy, h:mm a","GMT")),r.Ab(3),r.Kc(t.maintenance_location),r.Ab(2),r.kc("ngSwitch",t.maintenance_type),r.Ab(1),r.kc("ngSwitchCase","Correctivo"),r.Ab(1),r.kc("ngSwitchCase","Preventivo"),r.Ab(2),r.kc("ngSwitch",t.status_maintenance),r.Ab(1),r.kc("ngSwitchCase","Cancelado"),r.Ab(1),r.kc("ngSwitchCase","Completado"),r.Ab(3),r.Kc(t.assigned_auxiliary),r.Ab(2),r.kc("ngIf",t.is_active)("ngIfElse",n)}}const ft=function(){return[10,25,50]},ut=function(){return["assigned_auxiliary","maintenance_location","implement.name","request_by.name","request_by_last_name"]};let ht=(()=>{class t{constructor(t,e,n){this.maintenanceService=t,this.confirmationService=e,this.assistantsService=n,this.loading=!0,this.userInfo=JSON.parse(localStorage.getItem("userInfo")),this.urlPdf="https://andromedapi.tech/pdf/report/maintenance/"}ngOnInit(){this.fetchMaintenance()}fetchMaintenance(){this.userInfo.is_assistant?this.assistantsService.getServicesAssigned(this.userInfo.assistant.id).subscribe(t=>{this.maintenances=t.maintenance_assigned,this.loading=!1},t=>console.error(t)):this.getAllMaintenance()}getAllMaintenance(){this.maintenanceService.getAllMaintenance().subscribe(t=>{this.maintenances=t,this.loading=!1},t=>console.error(t))}completed(t,e){t.preventDefault(),this.confirmationService.confirm({target:t.target,message:"\xbfCompleto exitosamente el mantenimiento?",icon:"pi pi-exclamation-triangle",acceptLabel:"Confirmar",acceptButtonStyleClass:"p-button-success",accept:()=>{this.now=Date.now(),this.date=Object(o.v)(this.now,"yyyy-MM-dd HH:mm:ss","en-US"),this.maintenanceService.updateMaintenance(e,{is_active:!1,complete_maintenance_date:this.date}).subscribe(t=>{V.a.fire({icon:"success",title:"Mantenimiento completado exitosamente"}),this.getAllMaintenance()},t=>{V.a.fire({icon:"error",title:t})})}})}canceleted(t,e){this.confirmationService.confirm({target:t.target,message:"\xbfEsta seguro de cancelar este mantenimiento?",icon:"pi pi-exclamation-triangle",acceptLabel:"Confirmar",acceptButtonStyleClass:"p-button-danger",accept:()=>{this.maintenanceService.deleteMaintenance(e).subscribe(t=>{V.a.fire({icon:"success",title:"Mantenimiento Cancelado"}),this.getAllMaintenance()},t=>{V.a.fire({icon:"error",title:t})})}})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(b),r.Mb(g.a),r.Mb(W.a))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-control-maintenance"]],features:[r.zb([g.a,g.h])],decls:20,vars:21,consts:[[1,"header"],[1,"header-title"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","../../../"],["aria-current","page",1,"breadcrumb-item","active"],[1,"card"],["dataKey","id","styleClass","p-datatable-responsive-mobile",3,"value","rows","showCurrentPageReport","rowsPerPageOptions","loading","autoLayout","resizableColumns","paginator","filterDelay","globalFilterFields"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"p-d-flex","p-flex-column","p-flex-md-row","p-jc-md-between"],["type","button","pTooltip","PDF","tooltipPosition","bottom",1,"btn","btn-danger","btn-table",3,"href"],[1,"pi","pi-file-pdf"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text",1,"w-100",3,"placeholder","input"],["pSortableColumn","id",2,"width","30%"],["pSortableColumn","implement",2,"width","20%"],["pSortableColumn","maintenance_date",2,"width","20%"],["pSortableColumn","maintenance_location",2,"width","15%"],["pSortableColumn","maintenance_type",2,"width","15%"],["pSortableColumn","is_active",2,"width","15%"],["pSortableColumn","assigned_auxiliary",2,"width","15%"],[2,"width","15%"],["routerLinkActive","active",1,"text-primary",3,"routerLink"],[3,"href"],["alt","implemento","width","32",2,"vertical-align","middle",3,"src"],[3,"ngSwitch"],["class","badge badge-warning",4,"ngSwitchCase"],["class","badge badge-primary",4,"ngSwitchCase"],["class","badge badge-danger",4,"ngSwitchCase"],["class","badge badge-success",4,"ngSwitchCase"],["class","badge badge-warning",4,"ngSwitchDefault"],[4,"ngIf","ngIfElse"],["elseBlock",""],[1,"badge","badge-warning"],[1,"badge","badge-primary"],[1,"badge","badge-danger"],[1,"badge","badge-success"],[1,"cursor-pointer","text-secondary",3,"click"],[1,"badge-item"],[1,"pi","pi-ellipsis-h",2,"font-size","1.5rem"],[3,"showCloseIcon"],["op",""],["pTemplate",""],["pButton","","type","button","icon","pi pi-check",1,"btn-block",3,"label","click"],[1,"mt-2"],["pButton","","type","button","icon","pi pi-times","class","p-button-outlined p-button-danger btn-block",3,"label","click",4,"ngIf"],["pButton","","type","button","icon","pi pi-times",1,"p-button-outlined","p-button-danger","btn-block",3,"label","click"]],template:function(t,e){1&t&&(r.Sb(0,"div",0),r.Sb(1,"h1",1),r.Jc(2),r.ec(3,"translate"),r.Rb(),r.Sb(4,"nav",2),r.Sb(5,"ol",3),r.Sb(6,"li",4),r.Sb(7,"a",5),r.Jc(8),r.ec(9,"translate"),r.Rb(),r.Rb(),r.Sb(10,"li",6),r.Jc(11),r.ec(12,"translate"),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Sb(13,"div",7),r.Sb(14,"p-table",8,9),r.Hc(16,ot,8,4,"ng-template",10),r.Hc(17,at,22,18,"ng-template",11),r.Hc(18,gt,33,23,"ng-template",12),r.Rb(),r.Rb(),r.Nb(19,"p-confirmPopup")),2&t&&(r.Ab(2),r.Lc(" ",r.fc(3,13,"DASHBOARD.MAINTANCE.Control de mantenimientos")," "),r.Ab(6),r.Lc(" ",r.fc(9,15,"DASHBOARD.MAINTANCE.Inicio")," "),r.Ab(3),r.Lc(" ",r.fc(12,17,"DASHBOARD.MAINTANCE.Mantenimientos")," "),r.Ab(3),r.kc("value",e.maintenances)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",r.oc(19,ft))("loading",e.loading)("autoLayout",!0)("resizableColumns",!0)("paginator",!0)("filterDelay",0)("globalFilterFields",r.oc(20,ut)))},directives:[a.f,X.c,g.j,Y.a,tt.a,f.a,X.b,a.e,o.m,o.n,o.o,o.k,et.a,nt.b],pipes:[A.c,o.d],styles:['@media print{.header[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%], hr[_ngcontent-%COMP%]{display:none}}.input-file[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}.cursor[_ngcontent-%COMP%]{cursor:pointer}.card-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border-radius:6px;box-shadow:none!important;background:#fff!important;color:#000!important}.card-body[_ngcontent-%COMP%]   .detail-icons[_ngcontent-%COMP%]{width:1.25em!important;color:#495057;text-align:center;margin-right:.3rem!important;vertical-align:middle!important}.card[_ngcontent-%COMP%]{margin-bottom:1.5rem;box-shadow:0 0 .875rem 0 rgba(53,64,82,.05)}p-card[_ngcontent-%COMP%]{position:relative}.card-header[_ngcontent-%COMP%]{margin-bottom:0;background-color:#fff!important;border-bottom:0 solid transparent!important}.card-title[_ngcontent-%COMP%]{font-weight:550;font-size:1rem}.sidebar-item[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{color:#26272c!important;background:#e9ecef!important}.breadcrumb[_ngcontent-%COMP%]{background-color:initial!important;padding:0!important}.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item.active[_ngcontent-%COMP%]{color:#fff;font-weight:500}.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#e9ecef;text-underline:none}.custom-control-label[_ngcontent-%COMP%]:before{content:" ";position:absolute;top:.25rem;left:-1.5rem;display:block;width:1rem;height:1rem;pointer-events:none;-webkit-user-select:none;user-select:none;background-color:#dee2e6}.header-title[_ngcontent-%COMP%]{font-size:2em!important}.icon[_ngcontent-%COMP%]{padding:.75rem;width:48px;height:48px;color:#fff;background-color:#0b5fa5!important;border-radius:50%!important}.icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:24px;height:24px}.stats[_ngcontent-%COMP%]{display:flex;align-items:flex-start}.stats-body[_ngcontent-%COMP%]{flex:1}.wrapper[_ngcontent-%COMP%]{display:flex;width:100%;position:relative;align-content:stretch;overflow:hidden}.wrapper[_ngcontent-%COMP%]:before{content:" ";width:100%;height:264px;position:absolute;top:0;left:0;background:#083358}.rounded-circle[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .rounded-profile[_ngcontent-%COMP%]{height:2rem;width:2rem;border-radius:50%!important}.userDropdown[_ngcontent-%COMP%]{color:#fff!important}.content[_ngcontent-%COMP%]{margin-top:3rem;padding:0 .5rem}.header[_ngcontent-%COMP%]{margin-bottom:3rem;position:relative;color:#fff}.dropdown-item[_ngcontent-%COMP%]   .notify-icon[_ngcontent-%COMP%]{float:left;text-align:center;margin-right:10px}.dropdown-item[_ngcontent-%COMP%]   .notify-details[_ngcontent-%COMP%]{margin-bottom:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dropdown-item[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{white-space:normal;margin-left:45px;line-height:16px}.dropdown-item[_ngcontent-%COMP%]{display:block;padding:.35rem 1.5rem;color:#495057;text-align:inherit;background-color:initial}.dropdown-item[_ngcontent-%COMP%]:hover{color:#16181b;text-decoration:none;background-color:#fff}.dropdown-item[_ngcontent-%COMP%]:active{text-decoration:none;background:#e9ecef!important}.sidebar[_ngcontent-%COMP%]{min-width:250px;max-width:250px;transition:margin-left .3s ease-in-out,left .3s ease-in-out,margin-right .3s ease-in-out,right .3s ease-in-out;background:#fff;border-right:0;z-index:1}.sidebar.toggled[_ngcontent-%COMP%]{margin-left:-250px}.sidebar-brand[_ngcontent-%COMP%]{padding:1rem;background:#083358;display:block}.sidebar-brand[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:170px}.sidebar-nav[_ngcontent-%COMP%]{margin-bottom:0;padding-left:0;list-style:none;display:flex;flex-direction:column;justify-content:flex-start;flex:1;background:#fff}.sidebar-header[_ngcontent-%COMP%]{background:transparent;color:#adb5db;padding:.375rem 1.5rem;font-size:.75rem;text-transform:uppercase;margin-top:1rem!important}.sidebar[_ngcontent-%COMP%]   [data-toggle=collapse][_ngcontent-%COMP%]{position:relative}.sidebar[_ngcontent-%COMP%]   [data-toggle=collapse][_ngcontent-%COMP%]:before{content:" ";border:solid;border-width:0 .1rem .1rem 0;display:inline-block;padding:2.5px;transform:rotate(-45deg);position:absolute;top:1.2rem;right:1.25rem;transition:all .2s ease-out}.sidebar[_ngcontent-%COMP%]   [aria-expanded=true][_ngcontent-%COMP%]:before, .sidebar[_ngcontent-%COMP%]   [data-toggle=collapse][_ngcontent-%COMP%]:not(.collapsed):before{transform:rotate(45deg)}a.sidebar-link[_ngcontent-%COMP%]{display:block;padding:.65rem .75rem;margin:0 .5rem;color:#6c757d;font-weight:400;background:transparent;border-radius:.2rem;transition:background .1s ease-in-out;position:relative;text-decoration:none!important;cursor:pointer}a.sidebar-link[_ngcontent-%COMP%]:hover{color:#212529;background:#fff}a.sidebar-link[_ngcontent-%COMP%]   .fa-fw[_ngcontent-%COMP%]{color:#083358}.sidebar-dropdown[_ngcontent-%COMP%]   .sidebar-link[_ngcontent-%COMP%]{padding:.35rem 1.5rem .35rem 2.75rem;margin:0 .5rem;font-weight:400;font-size:90%}.sidebar-toggle[_ngcontent-%COMP%]{cursor:pointer;margin-left:.5rem}.fa-bars[_ngcontent-%COMP%]{color:#fff!important;font-size:25px!important;position:relative}.main[_ngcontent-%COMP%]{width:100%;min-height:100vh;background-color:#e9ecef}.text-dark[_ngcontent-%COMP%]{color:#344050!important;font-weight:500!important;line-height:1.2!important}td[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{-webkit-text-decoration:#1657af underline!important;text-decoration:#1657af underline!important}.maintenance-detail[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .support-detail[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-bottom:1rem}.maintenance-detail[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .support-detail[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:700}.p-button-success[_ngcontent-%COMP%]{color:#fff;background-color:#28a745;border-color:#28a745}.p-button-success[_ngcontent-%COMP%]:hover{color:#fff;background-color:#218838!important;border-color:#1e7e34}[_nghost-%COMP%]     .p-avatar.p-avatar-circle img{border-radius:50%}[_nghost-%COMP%]     .p-avatar{vertical-align:middle}[_nghost-%COMP%]     .p-rating .p-rating-icon{font-size:1.5rem!important}[_nghost-%COMP%]     .p-multiselect{min-width:15rem}[_nghost-%COMP%]     .multiselect-custom .p-multiselect-label{padding-top:.25rem;padding-bottom:.25rem}[_nghost-%COMP%]     .multiselect-custom .implement-item-value{padding:.25rem .5rem;border-radius:3px;display:inline-flex;margin-right:.5rem;background-color:var(--primary-color);color:var(--primary-color-text)}[_nghost-%COMP%]     .multiselect-custom .implement-item-value img.flag{width:17px}[_nghost-%COMP%]     .multiselect-custom .implement-item img.flag{width:50px}[_nghost-%COMP%]     .multiselect-custom .implement-placeholder{padding:.25rem}[_nghost-%COMP%]     .p-accordion-header{display:none}[_nghost-%COMP%]     .p-menu.p-menu-overlay, [_nghost-%COMP%]     .p-overlaypanel{position:absolute;transform-origin:top;top:auto!important;right:0;width:250px!important;max-height:400px;list-style-type:none;margin:0;left:auto!important}@media (max-width:1366px) and (min-width:1px){.sidebar[_ngcontent-%COMP%]{margin-left:-250px}.sidebar.toggled[_ngcontent-%COMP%]{margin-left:0!important}}[_nghost-%COMP%]     .p-datatable-responsive-mobile .p-datatable-tbody>tr>td .p-column-title{display:none}@media screen and (max-width:40rem){[_nghost-%COMP%]     .p-datatable.p-datatable-responsive-mobile .p-datatable-tfoot>tr>td, [_nghost-%COMP%]     .p-datatable.p-datatable-responsive-mobile .p-datatable-thead>tr>th{display:none!important}[_nghost-%COMP%]     .p-datatable.p-datatable-responsive-mobile .p-datatable-tbody>tr>td{text-align:left;display:block;width:100%;float:left;clear:left;border:0}[_nghost-%COMP%]     .p-datatable.p-datatable-responsive-mobile .p-datatable-tbody>tr>td .p-column-title{padding:.4rem;min-width:30%;display:inline-block;margin:-.4em 1em -.4em -.4rem;font-weight:700}[_nghost-%COMP%]     .p-datatable.p-datatable-responsive-mobile .p-datatable-tbody>tr>td:last-child{border-bottom:1px solid var(--surface-d)}.btn-table[_ngcontent-%COMP%]{width:100%;margin-bottom:1rem}}[_nghost-%COMP%]     .p-chip.custom-chip{background:#083358;color:var(--primary-color-text)}[_nghost-%COMP%]     .fc .fc-daygrid-event, [_nghost-%COMP%]     .fc a[data-navlink]{color:inherit}[_nghost-%COMP%]     .fc .fc-col-header-cell-cushion{color:#70757a}']}),t})();const Mt=function(){return{height:"10px"}};function Ct(t,e){1&t&&r.Nb(0,"p-progressBar",12),2&t&&r.Fc(r.oc(2,Mt))}function Ot(t,e){1&t&&(r.Sb(0,"span",50),r.Jc(1),r.ec(2,"translate"),r.Rb()),2&t&&(r.Ab(1),r.Lc(" ",r.fc(2,1,"DASHBOARD.MAINTANCE.En proceso")," "))}function _t(t,e){1&t&&(r.Sb(0,"span",51),r.Jc(1),r.ec(2,"translate"),r.Rb()),2&t&&(r.Ab(1),r.Lc(" ",r.fc(2,1,"DASHBOARD.MAINTANCE.Cancelado")," "))}function At(t,e){1&t&&(r.Sb(0,"span",52),r.Jc(1),r.ec(2,"translate"),r.Rb()),2&t&&(r.Ab(1),r.Lc(" ",r.fc(2,1,"DASHBOARD.MAINTANCE.Completado")," "))}function Pt(t,e){1&t&&(r.Sb(0,"span"),r.Jc(1),r.ec(2,"translate"),r.Rb()),2&t&&(r.Ab(1),r.Lc(" ",r.fc(2,1,"DASHBOARD.MAINTANCE.Coordinador")," "))}function St(t,e){1&t&&(r.Sb(0,"span"),r.Jc(1),r.ec(2,"translate"),r.Rb()),2&t&&(r.Ab(1),r.Lc(" ",r.fc(2,1,"DASHBOARD.MAINTANCE.Auxiliar de sistemas")," "))}function vt(t,e){1&t&&(r.Sb(0,"span"),r.Jc(1),r.ec(2,"translate"),r.Rb()),2&t&&(r.Ab(1),r.Lc(" ",r.fc(2,1,"DASHBOARD.MAINTANCE.Empleado")," "))}function Rt(t,e){if(1&t){const t=r.Tb();r.Sb(0,"div",13),r.Sb(1,"div",14),r.Sb(2,"div",15),r.Sb(3,"div",16),r.Sb(4,"div",17),r.Sb(5,"h1"),r.Jc(6),r.Rb(),r.Rb(),r.Sb(7,"div",18),r.Sb(8,"a",19),r.Zb("click",function(e){return r.zc(t),r.dc().print(e)}),r.Nb(9,"i"),r.Jc(10),r.ec(11,"translate"),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Nb(12,"hr"),r.Sb(13,"div",20),r.Sb(14,"div",21),r.Sb(15,"div",22),r.Hc(16,Ot,3,3,"ng-template",23),r.Hc(17,_t,3,3,"ng-template",23),r.Hc(18,At,3,3,"ng-template",23),r.Rb(),r.Rb(),r.Sb(19,"div",21),r.Sb(20,"div",24),r.Nb(21,"img",25),r.Sb(22,"h2",26),r.Jc(23),r.ec(24,"translate"),r.Rb(),r.Sb(25,"p",27),r.Jc(26),r.Rb(),r.Rb(),r.Rb(),r.Sb(27,"div",21),r.Sb(28,"div",28),r.Sb(29,"h5",29),r.Jc(30),r.ec(31,"translate"),r.Rb(),r.Sb(32,"p",30),r.Sb(33,"strong",31),r.Jc(34),r.Rb(),r.Rb(),r.Sb(35,"div",32),r.Sb(36,"a",33),r.Jc(37),r.Rb(),r.Rb(),r.Sb(38,"div",34),r.Hc(39,Pt,3,3,"span",11),r.Hc(40,St,3,3,"span",11),r.Hc(41,vt,3,3,"span",11),r.Rb(),r.Sb(42,"h5",29),r.Jc(43,"Ticket ID"),r.Rb(),r.Sb(44,"p",35),r.Jc(45),r.Rb(),r.Rb(),r.Sb(46,"div",36),r.Sb(47,"h5",37),r.Jc(48),r.ec(49,"translate"),r.Rb(),r.Sb(50,"p",30),r.Sb(51,"strong",31),r.Jc(52),r.Rb(),r.Rb(),r.Sb(53,"h5",37),r.Jc(54),r.ec(55,"translate"),r.Rb(),r.Sb(56,"p",38),r.Sb(57,"time",39),r.Jc(58),r.ec(59,"date"),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Sb(60,"div",21),r.Sb(61,"div",40),r.Sb(62,"div",41),r.Sb(63,"table",42),r.Sb(64,"thead"),r.Sb(65,"tr",43),r.Sb(66,"th",44),r.Sb(67,"span",45),r.Jc(68),r.ec(69,"translate"),r.Rb(),r.Rb(),r.Sb(70,"th",44),r.Sb(71,"span",45),r.Jc(72),r.ec(73,"translate"),r.Rb(),r.Rb(),r.Sb(74,"th",44),r.Sb(75,"span",45),r.Jc(76),r.ec(77,"translate"),r.Rb(),r.Rb(),r.Sb(78,"th",46),r.Sb(79,"span",45),r.Jc(80),r.ec(81,"translate"),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Sb(82,"tbody"),r.Sb(83,"tr"),r.Sb(84,"td"),r.Jc(85),r.Rb(),r.Sb(86,"td"),r.Jc(87),r.Rb(),r.Sb(88,"td"),r.Jc(89),r.Rb(),r.Sb(90,"td",47),r.Jc(91),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Nb(92,"hr",48),r.Sb(93,"h5",29),r.Jc(94),r.ec(95,"translate"),r.Rb(),r.Sb(96,"p",49),r.Jc(97),r.ec(98,"translate"),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb()}if(2&t){const t=r.dc();r.Ab(6),r.Lc("Ticket #",t.maintenance.id,""),r.Ab(3),r.Cb(t.iconPrint),r.Ab(1),r.Lc(" ",r.fc(11,32,"DASHBOARD.MAINTANCE.Descargar Ticket")," "),r.Ab(6),r.kc("ngIf",t.maintenance.is_active),r.Ab(1),r.kc("ngIf",!1===t.maintenance.is_active&&null===t.maintenance.complete_maintenance_date),r.Ab(1),r.kc("ngIf",!1===t.maintenance.is_active&&null!==t.maintenance.complete_maintenance_date),r.Ab(5),r.Lc(" ",r.fc(24,34,"DASHBOARD.MAINTANCE.Ticket de Mantenimiento")," "),r.Ab(3),r.Lc("Ticket #",t.maintenance.id,""),r.Ab(4),r.Lc(" ",r.fc(31,36,"DASHBOARD.MAINTANCE.Solicitado por")," "),r.Ab(4),r.Mc(" ",t.maintenance.request_by.first_name," ",t.maintenance.request_by.last_name," "),r.Ab(2),r.mc("href","mailto:",t.maintenance.request_by.email,"",r.Bc),r.Ab(1),r.Kc(t.maintenance.request_by.email),r.Ab(2),r.kc("ngIf",t.maintenance.request_by.is_admin),r.Ab(1),r.kc("ngIf",t.maintenance.request_by.is_assistant),r.Ab(1),r.kc("ngIf",t.maintenance.request_by.is_employee),r.Ab(4),r.Lc("#",t.maintenance.id,""),r.Ab(3),r.Lc(" ",r.fc(49,38,"DASHBOARD.MAINTANCE.Auxiliar asignado")," "),r.Ab(4),r.Kc(t.maintenance.assigned_auxiliary),r.Ab(2),r.Lc(" ",r.fc(55,40,"DASHBOARD.MAINTANCE.Fecha de solicitud")," "),r.Ab(4),r.Kc(r.gc(59,42,t.maintenance.maintenance_date,"medium")),r.Ab(10),r.Lc(" ",r.fc(69,45,"DASHBOARD.MAINTANCE.Implemento")," "),r.Ab(4),r.Lc(" ",r.fc(73,47,"DASHBOARD.MAINTANCE.Tipo de mantenimiento")," "),r.Ab(4),r.Lc(" ",r.fc(77,49,"DASHBOARD.MAINTANCE.Lugar de mantenimiento")," "),r.Ab(4),r.Lc(" ",r.fc(81,51,"DASHBOARD.MAINTANCE.Comentarios")," "),r.Ab(5),r.Kc(t.maintenance.implement.name),r.Ab(2),r.Kc(t.maintenance.maintenance_type),r.Ab(2),r.Kc(t.maintenance.maintenance_location),r.Ab(2),r.Kc(t.maintenance.description),r.Ab(3),r.Lc(" ",r.fc(95,53,"DASHBOARD.MAINTANCE.Nota")," "),r.Ab(3),r.Lc(" ",r.fc(98,55,"DASHBOARD.MAINTANCE.Cuando se complete el mantenimiento, el sistema automaticamente cambiar su estado y modificara el estado del implemento.")," ")}}function xt(t,e){1&t&&(r.Qb(0),r.Sb(1,"div",13),r.Sb(2,"div",53),r.Sb(3,"h1"),r.Jc(4),r.ec(5,"translate"),r.Rb(),r.Rb(),r.Rb(),r.Pb()),2&t&&(r.Ab(4),r.Kc(r.fc(5,1,"DASHBOARD.MAINTANCE.TICKET NO ENCONTRADO")))}let yt=(()=>{class t{constructor(t,e){this.maintenanceService=t,this.activatedRoute=e,this.iconPrint="pi pi-file-pdf",this.loading=!0,this.notFound=!1,this.activatedRoute.params.subscribe(t=>{this.id=t.id,this.fetchMaintenance()})}ngOnInit(){}fetchMaintenance(){this.maintenanceService.getMaintenance(this.id).subscribe(t=>{this.maintenance=t,this.loading=!1},t=>{this.notFound=!0,this.loading=!1,console.error(t)})}print(t){t.preventDefault(),window.print()}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(b),r.Mb(a.a))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-ticket-maintenance"]],decls:20,vars:15,consts:[[1,"header"],[1,"header-title"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","../../../../"],[1,"breadcrumb-item","active"],["routerLink","../../control"],["aria-current","page",1,"breadcrumb-item","active"],["mode","indeterminate",3,"style",4,"ngIf"],["class","card",4,"ngIf"],[4,"ngIf"],["mode","indeterminate"],[1,"card"],[1,"header","mt-md-3"],[1,"header-body"],[1,"row","align-items-center"],[1,"col","ml-2"],[1,"col-auto","mr-2"],["type","button",1,"btn","btn-info",3,"click"],[1,"card-body","p-5"],[1,"row"],[1,"col","text-right"],[3,"ngIf"],[1,"col","text-center"],["src","../../../../../../assets/img/logo_azul.png","alt","Andromeda",1,"img-fluid","mb-2",2,"max-width","10rem"],[1,"mb-2"],[1,"text-muted","mb-5"],[1,"col-12","col-md-6","text-muted"],[1,"text-uppercase"],[1,"mb-3"],[1,"text-body"],[1,"email-user","mb-2"],[3,"href"],[1,"rol-user","mb-4"],[1,"mb-4","text-dark"],[1,"col-12","col-md-6","text-md-right"],[1,"text-uppercase","text-muted"],[1,"mb-4"],["datetime","2020-11-27"],[1,"col-12"],[1,"table-responsive"],[1,"table","my-4"],[1,"text-muted"],[1,"px-0","bg-transparent","border-top-0"],[1,"h6"],[1,"px-0","bg-transparent","border-top-0","text-right"],[1,"text-right"],[1,"my-5"],[1,"text-muted","mb-0"],[1,"badge","badge-warning"],[1,"badge","badge-danger"],[1,"badge","badge-success"],[1,"card-body"]],template:function(t,e){1&t&&(r.Sb(0,"div",0),r.Sb(1,"h1",1),r.Jc(2),r.ec(3,"translate"),r.Rb(),r.Sb(4,"nav",2),r.Sb(5,"ol",3),r.Sb(6,"li",4),r.Sb(7,"a",5),r.Jc(8),r.ec(9,"translate"),r.Rb(),r.Rb(),r.Sb(10,"li",6),r.Sb(11,"a",7),r.Jc(12),r.ec(13,"translate"),r.Rb(),r.Rb(),r.Sb(14,"li",8),r.Jc(15),r.ec(16,"translate"),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Hc(17,Ct,1,3,"p-progressBar",9),r.Hc(18,Rt,99,57,"div",10),r.Hc(19,xt,6,3,"ng-container",11)),2&t&&(r.Ab(2),r.Lc(" ",r.fc(3,7,"DASHBOARD.MAINTANCE.Detalles del mantenimiento")," "),r.Ab(6),r.Lc(" ",r.fc(9,9,"DASHBOARD.MAINTANCE.Inicio")," "),r.Ab(4),r.Lc(" ",r.fc(13,11,"DASHBOARD.MAINTANCE.Mantenimientos")," "),r.Ab(3),r.Lc(" ",r.fc(16,13,"DASHBOARD.MAINTANCE.Detalles")," "),r.Ab(2),r.kc("ngIf",e.loading),r.Ab(1),r.kc("ngIf",e.maintenance),r.Ab(1),r.kc("ngIf",e.notFound))},directives:[a.f,o.k,B.a],pipes:[A.c,o.d],styles:['@media print{.header[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%], hr[_ngcontent-%COMP%]{display:none}}.input-file[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}.cursor[_ngcontent-%COMP%]{cursor:pointer}.card-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border-radius:6px;box-shadow:none!important;background:#fff!important;color:#000!important}.card-body[_ngcontent-%COMP%]   .detail-icons[_ngcontent-%COMP%]{width:1.25em!important;color:#495057;text-align:center;margin-right:.3rem!important;vertical-align:middle!important}.card[_ngcontent-%COMP%]{margin-bottom:1.5rem;box-shadow:0 0 .875rem 0 rgba(53,64,82,.05)}p-card[_ngcontent-%COMP%]{position:relative}.card-header[_ngcontent-%COMP%]{margin-bottom:0;background-color:#fff!important;border-bottom:0 solid transparent!important}.card-title[_ngcontent-%COMP%]{font-weight:550;font-size:1rem}.sidebar-item[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{color:#26272c!important;background:#e9ecef!important}.breadcrumb[_ngcontent-%COMP%]{background-color:initial!important;padding:0!important}.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item.active[_ngcontent-%COMP%]{color:#fff;font-weight:500}.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#e9ecef;text-underline:none}.custom-control-label[_ngcontent-%COMP%]:before{content:" ";position:absolute;top:.25rem;left:-1.5rem;display:block;width:1rem;height:1rem;pointer-events:none;-webkit-user-select:none;user-select:none;background-color:#dee2e6}.header-title[_ngcontent-%COMP%]{font-size:2em!important}.icon[_ngcontent-%COMP%]{padding:.75rem;width:48px;height:48px;color:#fff;background-color:#0b5fa5!important;border-radius:50%!important}.icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:24px;height:24px}.stats[_ngcontent-%COMP%]{display:flex;align-items:flex-start}.stats-body[_ngcontent-%COMP%]{flex:1}.wrapper[_ngcontent-%COMP%]{display:flex;width:100%;position:relative;align-content:stretch;overflow:hidden}.wrapper[_ngcontent-%COMP%]:before{content:" ";width:100%;height:264px;position:absolute;top:0;left:0;background:#083358}.rounded-circle[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .rounded-profile[_ngcontent-%COMP%]{height:2rem;width:2rem;border-radius:50%!important}.userDropdown[_ngcontent-%COMP%]{color:#fff!important}.content[_ngcontent-%COMP%]{margin-top:3rem;padding:0 .5rem}.header[_ngcontent-%COMP%]{margin-bottom:3rem;position:relative;color:#fff}.dropdown-item[_ngcontent-%COMP%]   .notify-icon[_ngcontent-%COMP%]{float:left;text-align:center;margin-right:10px}.dropdown-item[_ngcontent-%COMP%]   .notify-details[_ngcontent-%COMP%]{margin-bottom:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dropdown-item[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{white-space:normal;margin-left:45px;line-height:16px}.dropdown-item[_ngcontent-%COMP%]{display:block;padding:.35rem 1.5rem;color:#495057;text-align:inherit;background-color:initial}.dropdown-item[_ngcontent-%COMP%]:hover{color:#16181b;text-decoration:none;background-color:#fff}.dropdown-item[_ngcontent-%COMP%]:active{text-decoration:none;background:#e9ecef!important}.sidebar[_ngcontent-%COMP%]{min-width:250px;max-width:250px;transition:margin-left .3s ease-in-out,left .3s ease-in-out,margin-right .3s ease-in-out,right .3s ease-in-out;background:#fff;border-right:0;z-index:1}.sidebar.toggled[_ngcontent-%COMP%]{margin-left:-250px}.sidebar-brand[_ngcontent-%COMP%]{padding:1rem;background:#083358;display:block}.sidebar-brand[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:170px}.sidebar-nav[_ngcontent-%COMP%]{margin-bottom:0;padding-left:0;list-style:none;display:flex;flex-direction:column;justify-content:flex-start;flex:1;background:#fff}.sidebar-header[_ngcontent-%COMP%]{background:transparent;color:#adb5db;padding:.375rem 1.5rem;font-size:.75rem;text-transform:uppercase;margin-top:1rem!important}.sidebar[_ngcontent-%COMP%]   [data-toggle=collapse][_ngcontent-%COMP%]{position:relative}.sidebar[_ngcontent-%COMP%]   [data-toggle=collapse][_ngcontent-%COMP%]:before{content:" ";border:solid;border-width:0 .1rem .1rem 0;display:inline-block;padding:2.5px;transform:rotate(-45deg);position:absolute;top:1.2rem;right:1.25rem;transition:all .2s ease-out}.sidebar[_ngcontent-%COMP%]   [aria-expanded=true][_ngcontent-%COMP%]:before, .sidebar[_ngcontent-%COMP%]   [data-toggle=collapse][_ngcontent-%COMP%]:not(.collapsed):before{transform:rotate(45deg)}a.sidebar-link[_ngcontent-%COMP%]{display:block;padding:.65rem .75rem;margin:0 .5rem;color:#6c757d;font-weight:400;background:transparent;border-radius:.2rem;transition:background .1s ease-in-out;position:relative;text-decoration:none!important;cursor:pointer}a.sidebar-link[_ngcontent-%COMP%]:hover{color:#212529;background:#fff}a.sidebar-link[_ngcontent-%COMP%]   .fa-fw[_ngcontent-%COMP%]{color:#083358}.sidebar-dropdown[_ngcontent-%COMP%]   .sidebar-link[_ngcontent-%COMP%]{padding:.35rem 1.5rem .35rem 2.75rem;margin:0 .5rem;font-weight:400;font-size:90%}.sidebar-toggle[_ngcontent-%COMP%]{cursor:pointer;margin-left:.5rem}.fa-bars[_ngcontent-%COMP%]{color:#fff!important;font-size:25px!important;position:relative}.main[_ngcontent-%COMP%]{width:100%;min-height:100vh;background-color:#e9ecef}.text-dark[_ngcontent-%COMP%]{color:#344050!important;font-weight:500!important;line-height:1.2!important}td[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{-webkit-text-decoration:#1657af underline!important;text-decoration:#1657af underline!important}.maintenance-detail[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .support-detail[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-bottom:1rem}.maintenance-detail[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .support-detail[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:700}.p-button-success[_ngcontent-%COMP%]{color:#fff;background-color:#28a745;border-color:#28a745}.p-button-success[_ngcontent-%COMP%]:hover{color:#fff;background-color:#218838!important;border-color:#1e7e34}[_nghost-%COMP%]     .p-avatar.p-avatar-circle img{border-radius:50%}[_nghost-%COMP%]     .p-avatar{vertical-align:middle}[_nghost-%COMP%]     .p-rating .p-rating-icon{font-size:1.5rem!important}[_nghost-%COMP%]     .p-multiselect{min-width:15rem}[_nghost-%COMP%]     .multiselect-custom .p-multiselect-label{padding-top:.25rem;padding-bottom:.25rem}[_nghost-%COMP%]     .multiselect-custom .implement-item-value{padding:.25rem .5rem;border-radius:3px;display:inline-flex;margin-right:.5rem;background-color:var(--primary-color);color:var(--primary-color-text)}[_nghost-%COMP%]     .multiselect-custom .implement-item-value img.flag{width:17px}[_nghost-%COMP%]     .multiselect-custom .implement-item img.flag{width:50px}[_nghost-%COMP%]     .multiselect-custom .implement-placeholder{padding:.25rem}[_nghost-%COMP%]     .p-accordion-header{display:none}[_nghost-%COMP%]     .p-menu.p-menu-overlay, [_nghost-%COMP%]     .p-overlaypanel{position:absolute;transform-origin:top;top:auto!important;right:0;width:250px!important;max-height:400px;list-style-type:none;margin:0;left:auto!important}@media (max-width:1366px) and (min-width:1px){.sidebar[_ngcontent-%COMP%]{margin-left:-250px}.sidebar.toggled[_ngcontent-%COMP%]{margin-left:0!important}}[_nghost-%COMP%]     .p-datatable-responsive-mobile .p-datatable-tbody>tr>td .p-column-title{display:none}@media screen and (max-width:40rem){[_nghost-%COMP%]     .p-datatable.p-datatable-responsive-mobile .p-datatable-tfoot>tr>td, [_nghost-%COMP%]     .p-datatable.p-datatable-responsive-mobile .p-datatable-thead>tr>th{display:none!important}[_nghost-%COMP%]     .p-datatable.p-datatable-responsive-mobile .p-datatable-tbody>tr>td{text-align:left;display:block;width:100%;float:left;clear:left;border:0}[_nghost-%COMP%]     .p-datatable.p-datatable-responsive-mobile .p-datatable-tbody>tr>td .p-column-title{padding:.4rem;min-width:30%;display:inline-block;margin:-.4em 1em -.4em -.4rem;font-weight:700}[_nghost-%COMP%]     .p-datatable.p-datatable-responsive-mobile .p-datatable-tbody>tr>td:last-child{border-bottom:1px solid var(--surface-d)}.btn-table[_ngcontent-%COMP%]{width:100%;margin-bottom:1rem}}[_nghost-%COMP%]     .p-chip.custom-chip{background:#083358;color:var(--primary-color-text)}[_nghost-%COMP%]     .fc .fc-daygrid-event, [_nghost-%COMP%]     .fc a[data-navlink]{color:inherit}[_nghost-%COMP%]     .fc .fc-col-header-cell-cushion{color:#70757a}']}),t})(),wt=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},imports:[[a.g.forChild([{path:"solicitar",component:J},{path:"ticket",component:U},{path:"control",component:ht},{path:"detalle/:id",component:yt}])],a.g]}),t})(),kt=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},imports:[[o.b,wt]]}),t})()}}]);