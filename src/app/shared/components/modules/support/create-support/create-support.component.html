<div class="header">
  <h1 class="header-title">
    {{'DASHBOARD.SUPPORT.Solicitud de soporte tecnico'|translate}}
  </h1>
  <nav aria-label="breadcrumb">
    <ol class="breadcrumb">
      <li class="breadcrumb-item">
        <a routerLink="../../../">
          {{'DASHBOARD.SUPPORT.Inicio'|translate}}
        </a>
      </li>
      <li class="breadcrumb-item active" aria-current="page">
        {{'DASHBOARD.SUPPORT.Soporte tecnico'|translate}}
      </li>
    </ol>
  </nav>
</div>
<div class="content_support">
  <p-card>
    <ng-template pTemplate="title">
      {{'DASHBOARD.SUPPORT.Datos del servicio'|translate}}
    </ng-template>
    <ng-template pTemplate="subtitle">
      {{'DASHBOARD.SUPPORT.Ingresa los datos requeridos'|translate}}
    </ng-template>
    <ng-template pTemplate="content">
      <h5>{{'DASHBOARD.SUPPORT.Usuario registrado'|translate}}</h5>
      <div class="p-fluid p-grid">
        <div class="p-col-12 p-md-6">
          <div class="p-inputgroup">
            <span class="p-inputgroup-addon"><i class="pi pi-user"></i></span>
            <input type="text" pInputText [(ngModel)]="userFullName" disabled>
          </div>
        </div>
        <div class="p-col-12 p-md-6">
          <div class="p-inputgroup">
            <span class="p-inputgroup-addon">
              <span class="material-icons">
                local_post_office
              </span>
            </span>
            <input type="text" pInputText [(ngModel)]="userData['email']" disabled>
          </div>
        </div>
      </div>
      <form method="POST" [formGroup]="form" (ngSubmit)="createSupport($event)">
        <div class="p-fluid mt-3">
          <div class="p-field">
            <label for="calendar">{{'DASHBOARD.SUPPORT.Fecha del soporte técnico'|translate}}</label>
            <p-calendar [disabledDays]="[0,6]"
                        [showIcon]="true"
                        [readonlyInput]="true"
                        showTime="true"
                        hourFormat="12"
                        showButtonBar="true"
                        dateFormat="dd-mm-yy"
                        id="calendar"
                        [required]="true"
                        [touchUI]="true"
                        formControlName="support_date">
            </p-calendar>
            <small class="p-error" *ngIf="DateIsEmpty">
              {{'DASHBOARD.SUPPORT.Fecha Requerida'|translate}}
            </small>
          </div>
          <div class="p-field">
            <label for="location">
              {{'DASHBOARD.SUPPORT.Ubicación del soporte técnico'|translate}}
            </label>
            <input type="text" [required]="true" pInputText id="location" formControlName="support_location">
            <small class="p-error" *ngIf="LocationIsEmpty">
              {{'DASHBOARD.SUPPORT.Ubicación Requerida'|translate}}
            </small>
          </div>
          <div class="p-field">
            <label for="description">
              {{'DASHBOARD.SUPPORT.Descripción del problema'|translate}}
            </label>
            <textarea pInputTextarea id="description" formControlName="description_problem"></textarea>
            <small class="p-error" *ngIf="descriptionProblemIsEmpty">
              {{'DASHBOARD.SUPPORT.Por favor describe el problema'|translate}}
            </small>
          </div>
          <div class="p-field">
            <button type="submit"
                    pButton
                    [icon]="iconLoading"
                    [disabled]="disabled"
                    class="btn btn-andromeda btn-block"
                    label="{{'DASHBOARD.SUPPORT.Solicitar Soporte'| translate}}">
            </button>
          </div>
        </div>
      </form>
    </ng-template>
  </p-card>
</div>
